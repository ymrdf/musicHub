# 发现音乐功能说明

## 功能概述

"发现音乐"页面是 MusicHub 平台的核心功能之一，为用户提供了一个专门的音乐播放发现入口。该页面专注于展示演奏和演唱内容，让用户能够直接播放和发现优秀的音乐演绎。

## 主要功能

### 1. 音乐播放展示

- **演奏展示**：显示基于原创作品的演奏/演唱录音
- **直接播放**：用户可以直接在发现页面播放音乐
- **音频内容**：专注于可播放的音频内容，提供更好的音乐体验

### 2. 强大的筛选功能

- **流派筛选**：按音乐流派筛选（古典、流行、摇滚、爵士等）
- **乐器筛选**：按乐器类型筛选（钢琴、吉他、小提琴等）
- **用途筛选**：按用途筛选（练习、表演、创作、教学等）

### 3. 灵活的排序选项

- **最新**：按创建时间排序
- **收藏数**：按 Star 数量排序
- **浏览数**：按浏览次数排序
- **点赞数**：按点赞数量排序
- **播放数**：按播放次数排序
- **排序方向**：支持升序和降序

### 4. 搜索功能

- **全文搜索**：支持搜索作品标题、描述、创作者用户名
- **热门标签**：显示热门标签，点击可直接搜索
- **实时搜索**：输入时实时更新结果

### 5. 交互功能

- **音频播放**：直接播放演奏录音
- **点赞演奏**：为演奏点赞
- **查看详情**：跳转到演奏详情页
- **用户信息**：查看创作者信息

### 6. 响应式设计

- **移动端适配**：完美支持手机和平板设备
- **桌面端优化**：大屏幕下的最佳显示效果
- **触摸友好**：移动端触摸操作优化

## 技术实现

### 页面结构

```
src/app/discover/page.tsx
```

### 数据获取

- 调用 `/api/performances` API 获取演奏数据
- 获取分类数据：`/api/categories`
- 获取热门标签：`/api/tags`

### 状态管理

- 使用 React Hooks 管理组件状态
- 集成音频播放器状态
- 实时更新筛选和搜索状态

### 音频播放

- 集成 `useAudioPlayer` Hook
- 支持播放/暂停控制
- 显示当前播放状态

## 用户体验

### 视觉设计

- **卡片式布局**：清晰的内容展示
- **图标区分**：用不同图标区分作品和演奏
- **颜色编码**：不同分类使用不同颜色标签
- **状态指示**：清晰的加载、错误、空状态提示

### 交互体验

- **即时反馈**：操作后立即更新 UI 状态
- **平滑动画**：hover 效果和状态切换动画
- **键盘支持**：支持键盘导航和操作
- **无障碍访问**：符合无障碍设计标准

## 使用场景

### 音乐爱好者

- 发现新的原创音乐作品
- 寻找特定风格或乐器的音乐
- 关注喜欢的创作者

### 音乐创作者

- 了解平台上的热门作品
- 发现优秀的演奏演绎
- 寻找创作灵感和参考

### 演奏者

- 寻找适合演奏的原创作品
- 发现其他演奏者的演绎
- 学习不同的演奏技巧

## 未来扩展

### 计划功能

- **个性化推荐**：基于用户喜好推荐内容
- **播放列表**：创建和管理个人播放列表
- **社交功能**：分享和评论功能增强
- **高级筛选**：更多筛选维度（难度、时长等）
- **批量操作**：批量收藏、下载等功能

### 性能优化

- **虚拟滚动**：处理大量数据时的性能优化
- **图片懒加载**：优化页面加载速度
- **缓存策略**：减少 API 调用次数
- **CDN 加速**：静态资源加速

## 相关文档

- [PRD 文档](./prd.md) - 产品需求文档
- [API 文档](./README.md) - API 接口说明
- [组件文档](./src/components/README.md) - 组件使用说明
